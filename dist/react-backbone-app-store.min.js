var AppStore=function(){this.modelHash={},this.COLLECTIONS={},this.ENDPOINTS={},this.rootNode=null,this.rootProps={}};AppStore.prototype.addModel=function(t,o,e){this.modelHash[t]=this.modelHash[t]||{},this.COLLECTIONS[t]=this.COLLECTIONS[t]||o,this.ENDPOINTS[t]=this.ENDPOINTS[t]||e},AppStore.prototype.resetData=function(t,o,e){var r={};for(var s in this.modelHash)t[s]&&(r[s]=t[s]);this.resetModelHash(r),this.rootProps=_.extend(t,{appStore:this});var i=React.createElement(o,this.rootProps,e);this.rootNode=React.render(i,e)},AppStore.prototype.resetModelHash=function(t){for(var o in t){var e=t[o],r=this.COLLECTIONS[o];this.modelHash[o]=new r(e)}},AppStore.prototype.renderRoot=function(){for(var t in this.modelHash)this.rootProps[t]=this.modelHash[t].toJSON();this.rootNode.setProps(this.rootProps)},AppStore.prototype.getModel=function(t,o){var e=this.modelHash[o].get(t);return e&&e.toJSON()},AppStore.prototype.set=function(t,o,e,r){var s=this.modelHash[e].get(o),i=this;s.save(t,{wait:!0,success:function(t){i.refresh(o,e,r)}})},AppStore.prototype.refresh=function(t,o,e){var r=this.modelHash[o].get(t),s=this;r.fetch({wait:!0,success:function(t,o){s.renderRoot(),e&&e()}})},window.AppStore=AppStore;